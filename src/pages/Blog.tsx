
import { useState } from "react";
import Layout from "@/components/layout/Layout";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Calendar, Clock, User } from "lucide-react";

// Данные для блога
const blogPosts = [
  {
    id: 1,
    title: "Современные тенденции в строительстве жилых комплексов",
    excerpt: "Рассмотрим актуальные архитектурные решения и технологии, применяемые при строительстве современных жилых комплексов.",
    content: `
      <p>Современное строительство жилых комплексов характеризуется внедрением инновационных технологий и материалов, которые позволяют создавать более комфортные, энергоэффективные и экологичные здания.</p>
      
      <h3>Экологически чистые материалы</h3>
      <p>Одной из основных тенденций в строительстве является использование экологически чистых материалов, таких как древесина из устойчиво управляемых лесов, переработанный металл и стекло, натуральный камень и др. Эти материалы не только безопасны для здоровья жильцов, но и минимизируют негативное воздействие на окружающую среду.</p>
      
      <h3>Энергоэффективность</h3>
      <p>Современные жилые комплексы проектируются с учетом максимальной энергоэффективности. Это достигается за счет использования качественной теплоизоляции, энергосберегающих окон, систем рекуперации тепла, солнечных панелей и других технологий. Такой подход позволяет значительно снизить расходы на отопление и кондиционирование помещений.</p>
      
      <h3>Умные дома</h3>
      <p>Технологии "умного дома" становятся стандартом в современном строительстве. Автоматизированные системы управления освещением, отоплением, вентиляцией и безопасностью не только повышают комфорт проживания, но и способствуют экономии ресурсов.</p>
      
      <h3>Благоустройство территории</h3>
      <p>Особое внимание уделяется благоустройству прилегающей территории. Современные жилые комплексы включают озелененные дворы, детские и спортивные площадки, зоны отдыха и другие элементы инфраструктуры, которые создают комфортную среду для жителей.</p>
      
      <h3>Выводы</h3>
      <p>Современные тенденции в строительстве жилых комплексов направлены на создание комфортного, безопасного и экологичного жилья, которое отвечает всем потребностям современного человека и при этом минимизирует воздействие на окружающую среду.</p>
    `,
    image: "https://images.unsplash.com/photo-1490644658840-3f2e3f8c5625?w=800&auto=format&fit=crop",
    date: "15 марта 2023",
    author: "Иван Петров",
    category: "Строительство",
    readTime: "7 мин"
  },
  {
    id: 2,
    title: "Как выбрать надежного подрядчика для строительства дома",
    excerpt: "Ключевые критерии выбора строительной компании для постройки частного дома: на что обратить внимание и каких ошибок избежать.",
    content: `
      <p>Выбор надежного подрядчика - один из самых важных шагов при строительстве частного дома. От этого решения зависит качество работ, соблюдение сроков и бюджета, а в конечном итоге - ваш комфорт и безопасность.</p>
      
      <h3>Опыт и репутация</h3>
      <p>Первое, на что следует обратить внимание - опыт компании в строительстве. Изучите портфолио реализованных проектов, особенно тех, которые похожи на ваш. Обязательно ознакомьтесь с отзывами клиентов, поищите информацию в интернете, посетите объекты, которые компания уже построила.</p>
      
      <h3>Лицензии и сертификаты</h3>
      <p>Проверьте наличие необходимых лицензий и сертификатов у строительной компании. Это гарантия того, что компания работает легально и соблюдает все нормы и стандарты строительства.</p>
      
      <h3>Детальный договор</h3>
      <p>Договор должен включать подробное описание всех работ, материалов, сроков и стоимости. Обратите внимание на условия оплаты, гарантии, ответственность сторон и порядок разрешения споров. Если что-то вызывает сомнения, проконсультируйтесь с юристом.</p>
      
      <h3>Прозрачный бюджет</h3>
      <p>Надежный подрядчик предоставит детальную смету с указанием стоимости всех работ и материалов. Остерегайтесь компаний, которые предлагают слишком низкие цены или не могут объяснить, из чего складывается стоимость.</p>
      
      <h3>Гарантии</h3>
      <p>Хороший подрядчик предоставляет гарантию на выполненные работы. Это говорит о его уверенности в качестве своих услуг и готовности нести ответственность за результат.</p>
      
      <h3>Выводы</h3>
      <p>Выбор надежного подрядчика требует времени и тщательного анализа, но это инвестиция в ваше будущее. Правильный выбор строительной компании обеспечит качественное выполнение работ и избавит вас от множества проблем и лишних расходов.</p>
    `,
    image: "https://images.unsplash.com/photo-1517581177682-a085bb7ffb15?w=800&auto=format&fit=crop",
    date: "2 февраля 2023",
    author: "Анна Сидорова",
    category: "Советы",
    readTime: "6 мин"
  },
  {
    id: 3,
    title: "Инновационные материалы в современном строительстве",
    excerpt: "Обзор новейших строительных материалов, которые изменяют отрасль и открывают новые возможности для архитекторов и застройщиков.",
    content: `
      <p>Строительная индустрия постоянно развивается, и новые материалы играют ключевую роль в этом процессе. Инновационные материалы позволяют создавать более прочные, энергоэффективные и экологичные здания.</p>
      
      <h3>Углеродное волокно</h3>
      <p>Углеродное волокно - материал, который по прочности превосходит сталь, но при этом значительно легче. Он используется для усиления конструкций, создания несущих элементов и в отделочных работах. Благодаря своим свойствам, углеродное волокно позволяет создавать уникальные архитектурные формы, которые невозможно реализовать с традиционными материалами.</p>
      
      <h3>Аэрогель</h3>
      <p>Аэрогель - сверхлегкий материал с рекордно низкой теплопроводностью. Он используется для теплоизоляции зданий и позволяет добиться высокой энергоэффективности при минимальной толщине стен. Благодаря своим свойствам, аэрогель все чаще применяется в строительстве энергопассивных домов.</p>
      
      <h3>Самозалечивающийся бетон</h3>
      <p>Этот инновационный материал содержит бактерии, которые активизируются при контакте с водой через трещины в бетоне. Они производят кальцит, который заполняет трещины, что значительно продлевает срок службы бетонных конструкций и снижает затраты на их обслуживание.</p>
      
      <h3>Прозрачные алюминиевые панели</h3>
      <p>Прозрачный алюминий - материал, который сочетает в себе прочность металла и прозрачность стекла. Он используется для создания светопрозрачных конструкций, которые при этом обладают высокой прочностью и устойчивостью к внешним воздействиям.</p>
      
      <h3>Выводы</h3>
      <p>Инновационные материалы открывают новые горизонты в строительстве, позволяя создавать более качественные, долговечные и экологичные здания. Несмотря на то, что многие из них пока еще дороги в производстве, с развитием технологий их стоимость будет снижаться, что сделает их более доступными для широкого применения.</p>
    `,
    image: "https://images.unsplash.com/photo-1553465528-5a213ccc0c7b?w=800&auto=format&fit=crop",
    date: "10 января 2023",
    author: "Михаил Сидоров",
    category: "Технологии",
    readTime: "8 мин"
  },
  {
    id: 4,
    title: "Экологическое строительство: тренды и перспективы",
    excerpt: "Анализ современных подходов к экологическому строительству и их влияния на окружающую среду и качество жизни.",
    content: `
      <p>Экологическое строительство становится все более популярным во всем мире. Этот подход направлен на минимизацию негативного воздействия зданий на окружающую среду и здоровье людей на протяжении всего жизненного цикла строения.</p>
      
      <h3>Энергоэффективность</h3>
      <p>Одним из ключевых аспектов экологического строительства является энергоэффективность. Современные эко-дома проектируются таким образом, чтобы минимизировать потребление энергии для отопления, охлаждения и освещения. Это достигается за счет правильной ориентации здания, использования энергосберегающих материалов и технологий, а также интеграции возобновляемых источников энергии.</p>
      
      <h3>Экологически чистые материалы</h3>
      <p>В экологическом строительстве используются материалы, которые не содержат вредных веществ и произведены с минимальным воздействием на окружающую среду. Это могут быть переработанные материалы, материалы из возобновляемых источников или местные материалы, транспортировка которых не требует больших энергозатрат.</p>
      
      <h3>Водосбережение</h3>
      <p>Экодома оборудуются системами сбора и очистки дождевой воды, а также системами рециркуляции серой воды. Это позволяет значительно снизить потребление питьевой воды и уменьшить нагрузку на канализационные системы.</p>
      
      <h3>Качество внутренней среды</h3>
      <p>Особое внимание в экологическом строительстве уделяется качеству воздуха внутри помещений. Это достигается за счет использования нетоксичных материалов, эффективной вентиляции и обеспечения достаточного естественного освещения.</p>
      
      <h3>Выводы</h3>
      <p>Экологическое строительство - это не просто тренд, а необходимость в условиях растущих экологических проблем. Такой подход не только минимизирует негативное воздействие на окружающую среду, но и обеспечивает здоровый и комфортный микроклимат для жителей, а также позволяет снизить эксплуатационные расходы в долгосрочной перспективе.</p>
    `,
    image: "https://images.unsplash.com/photo-1491002052546-bf38f186af56?w=800&auto=format&fit=crop",
    date: "5 декабря 2022",
    author: "Елена Смирнова",
    category: "Экология",
    readTime: "7 мин"
  },
  {
    id: 5,
    title: "Умный дом: технологии для комфорта и безопасности",
    excerpt: "Обзор современных технологий умного дома, которые делают жизнь комфортнее, безопаснее и экономичнее.",
    content: `
      <p>Технологии умного дома стремительно развиваются и становятся все более доступными для широкого круга потребителей. Они позволяют автоматизировать многие процессы в доме, повысить комфорт проживания и обеспечить безопасность.</p>
      
      <h3>Системы управления освещением</h3>
      <p>Умные системы освещения позволяют не только включать и выключать свет дистанционно, но и настраивать яркость, цветовую температуру и создавать различные сценарии освещения для разных ситуаций. Это не только удобно, но и помогает экономить электроэнергию.</p>
      
      <h3>Климат-контроль</h3>
      <p>Умные терморегуляторы и системы вентиляции поддерживают оптимальную температуру и влажность в доме, учитывая ваши предпочтения и привычки. Они могут автоматически снижать температуру, когда вы уходите из дома, и повышать перед вашим возвращением, что значительно снижает расходы на отопление и кондиционирование.</p>
      
      <h3>Системы безопасности</h3>
      <p>Умные системы безопасности включают в себя камеры видеонаблюдения, датчики движения, умные замки и системы сигнализации. Они позволяют контролировать ситуацию в доме из любой точки мира и получать уведомления о любых подозрительных активностях.</p>
      
      <h3>Управление бытовой техникой</h3>
      <p>Современные технологии позволяют управлять бытовой техникой удаленно. Вы можете включить кофеварку или духовку по пути домой, запустить стиральную машину в то время, когда электроэнергия дешевле, или проверить содержимое холодильника, находясь в магазине.</p>
      
      <h3>Выводы</h3>
      <p>Технологии умного дома не только делают жизнь комфортнее, но и помогают экономить энергию и ресурсы. С каждым годом они становятся все более доступными и простыми в использовании, что делает их привлекательными для все большего числа домовладельцев.</p>
    `,
    image: "https://images.unsplash.com/photo-1558002038-1055907df827?w=800&auto=format&fit=crop",
    date: "20 ноября 2022",
    author: "Олег Николаев",
    category: "Технологии",
    readTime: "6 мин"
  },
  {
    id: 6,
    title: "Как правильно спланировать ремонт: советы профессионалов",
    excerpt: "Пошаговое руководство по планированию ремонта от выбора дизайна до финальных штрихов, которое поможет избежать распространенных ошибок.",
    content: `
      <p>Правильное планирование ремонта - залог его успешного выполнения. В этой статье мы поделимся профессиональными советами, которые помогут вам спланировать ремонт таким образом, чтобы избежать многих проблем и лишних затрат.</p>
      
      <h3>Определите бюджет</h3>
      <p>Перед тем как приступить к планированию ремонта, четко определите, сколько средств вы готовы на него потратить. Рекомендуется добавить к расчетной сумме 15-20% на непредвиденные расходы, которые неизбежно возникают в процессе ремонта.</p>
      
      <h3>Разработайте дизайн-проект</h3>
      <p>Дизайн-проект - это не просто красивые картинки будущего интерьера. Это детальный план, который включает в себя планировку помещений, расположение мебели и техники, схемы электропроводки, освещения, водоснабжения и т.д. Наличие такого проекта значительно упрощает процесс ремонта и помогает избежать многих ошибок.</p>
      
      <h3>Выберите надежных подрядчиков</h3>
      <p>Если вы не планируете делать ремонт самостоятельно, важно выбрать надежных подрядчиков. Изучите отзывы, посмотрите портфолио, встретьтесь лично и обсудите все детали проекта. Не забудьте заключить детальный договор, который защитит ваши интересы.</p>
      
      <h3>Составьте график работ</h3>
      <p>Четкий график работ поможет контролировать процесс ремонта и избежать простоев. Он должен учитывать последовательность работ, сроки поставки материалов и время на высыхание и отвердевание различных материалов.</p>
      
      <h3>Закупите материалы заранее</h3>
      <p>Чтобы избежать простоев в работе, закупите основные материалы заранее. Обязательно обсудите с подрядчиками список необходимых материалов и их количество, чтобы избежать излишков или нехватки.</p>
      
      <h3>Выводы</h3>
      <p>Правильное планирование ремонта требует времени и усилий, но оно окупается. Четкий план помогает избежать многих проблем, сэкономить время и средства, а также достичь желаемого результата без излишнего стресса.</p>
    `,
    image: "https://images.unsplash.com/photo-1523413349879-ee8c9d29c310?w=800&auto=format&fit=crop",
    date: "15 октября 2022",
    author: "Марина Козлова",
    category: "Советы",
    readTime: "7 мин"
  }
];

// Категории для фильтрации
const categories = [
  { value: "all", label: "Все статьи" },
  { value: "Строительство", label: "Строительство" },
  { value: "Технологии", label: "Технологии" },
  { value: "Советы", label: "Советы" },
  { value: "Экология", label: "Экология" }
];

const Blog = () => {
  const [selectedPost, setSelectedPost] = useState<null | typeof blogPosts[0]>(null);
  const [searchQuery, setSearchQuery] = useState("");
  const [selectedCategory, setSelectedCategory] = useState("all");

  // Фильтрация постов по категории и поисковому запросу
  const filteredPosts = blogPosts.filter(post => {
    const matchesCategory = selectedCategory === "all" || post.category === selectedCategory;
    const matchesSearch = post.title.toLowerCase().includes(searchQuery.toLowerCase()) || 
                         post.excerpt.toLowerCase().includes(searchQuery.toLowerCase());
    return matchesCategory && matchesSearch;
  });

  // Обработчик клика по статье
  const handlePostClick = (post: typeof blogPosts[0]) => {
    setSelectedPost(post);
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };

  // Обработчик для фильтрации по категории
  const handleCategoryChange = (category: string) => {
    setSelectedCategory(category);
    setSelectedPost(null);
  };

  return (
    <Layout>
      {/* Hero секция */}
      <section className="pt-10 md:pt-16 pb-12 md:pb-20 bg-construction-gray-light">
        <div className="container mx-auto px-4">
          <div className="max-w-3xl mx-auto text-center">
            <h1 className="text-4xl md:text-5xl font-bold mb-6 text-construction-gray-dark">
              Блог CONSTRUCTO
            </h1>
            <p className="text-lg text-construction-gray">
              Актуальные статьи о строительстве, советы экспертов и новости отрасли.
              Полезная информация для профессионалов и частных заказчиков.
            </p>
          </div>
        </div>
      </section>

      {/* Поиск и фильтры */}
      <section className="py-8 border-b border-gray-200">
        <div className="container mx-auto px-4">
          <div className="flex flex-col md:flex-row gap-4 justify-between items-center">
            <div className="w-full md:w-1/3">
              <Input
                type="text"
                placeholder="Поиск статей..."
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
                className="focus:border-construction-blue"
              />
            </div>
            <div className="flex flex-wrap gap-2 justify-center">
              {categories.map((category) => (
                <Button
                  key={category.value}
                  onClick={() => handleCategoryChange(category.value)}
                  variant={selectedCategory === category.value ? "default" : "outline"}
                  className={selectedCategory === category.value ? "bg-construction-blue text-white" : ""}
                >
                  {category.label}
                </Button>
              ))}
            </div>
          </div>
        </div>
      </section>

      {/* Детали выбранной статьи */}
      {selectedPost && (
        <section className="py-16">
          <div className="container mx-auto px-4">
            <div className="max-w-4xl mx-auto">
              <div className="mb-8">
                <h2 className="text-3xl md:text-4xl font-bold mb-6 text-construction-gray-dark">
                  {selectedPost.title}
                </h2>
                
                <div className="flex flex-wrap gap-4 text-sm text-construction-gray mb-6">
                  <div className="flex items-center">
                    <Calendar size={16} className="mr-1" />
                    <span>{selectedPost.date}</span>
                  </div>
                  <div className="flex items-center">
                    <User size={16} className="mr-1" />
                    <span>{selectedPost.author}</span>
                  </div>
                  <div className="flex items-center">
                    <Clock size={16} className="mr-1" />
                    <span>{selectedPost.readTime}</span>
                  </div>
                  <div className="bg-construction-blue/10 text-construction-blue px-2 py-1 rounded">
                    {selectedPost.category}
                  </div>
                </div>
              </div>
              
              <div className="rounded-lg overflow-hidden mb-8">
                <img 
                  src={selectedPost.image} 
                  alt={selectedPost.title}
                  className="w-full h-auto"
                />
              </div>
              
              <div 
                className="prose prose-lg max-w-none mb-8"
                dangerouslySetInnerHTML={{ __html: selectedPost.content }}
              ></div>
              
              <div className="mt-10">
                <Button 
                  className="bg-construction-blue hover:bg-blue-700 text-white"
                  onClick={() => setSelectedPost(null)}
                >
                  Вернуться к списку статей
                </Button>
              </div>
            </div>
          </div>
        </section>
      )}

      {/* Список статей */}
      {!selectedPost && (
        <section className="py-16">
          <div className="container mx-auto px-4">
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
              {filteredPosts.map((post) => (
                <div 
                  key={post.id} 
                  className="group cursor-pointer bg-white rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300"
                  onClick={() => handlePostClick(post)}
                >
                  <div className="aspect-[16/9] overflow-hidden">
                    <img 
                      src={post.image} 
                      alt={post.title}
                      className="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
                    />
                  </div>
                  <div className="p-6">
                    <div className="flex justify-between items-center mb-3">
                      <div className="bg-construction-blue/10 text-construction-blue px-2 py-1 rounded text-xs">
                        {post.category}
                      </div>
                      <div className="flex items-center text-xs text-construction-gray">
                        <Clock size={14} className="mr-1" />
                        <span>{post.readTime}</span>
                      </div>
                    </div>
                    
                    <h3 className="text-xl font-semibold mb-3 text-construction-gray-dark group-hover:text-construction-blue transition-colors">
                      {post.title}
                    </h3>
                    
                    <p className="text-construction-gray mb-4 line-clamp-3">
                      {post.excerpt}
                    </p>
                    
                    <div className="flex items-center text-sm text-construction-gray">
                      <Calendar size={14} className="mr-1" />
                      <span>{post.date}</span>
                    </div>
                  </div>
                </div>
              ))}
            </div>
            
            {filteredPosts.length === 0 && (
              <div className="text-center py-12">
                <h3 className="text-xl text-construction-gray-dark mb-2">
                  Статьи не найдены
                </h3>
                <p className="text-construction-gray">
                  Попробуйте изменить параметры поиска или выбрать другую категорию.
                </p>
              </div>
            )}
          </div>
        </section>
      )}

      {/* CTA секция */}
      <section className="py-16 bg-construction-gray-light">
        <div className="container mx-auto px-4 text-center">
          <h2 className="text-3xl font-bold mb-6 text-construction-gray-dark">
            Остались вопросы?
          </h2>
          <p className="max-w-2xl mx-auto mb-8 text-construction-gray">
            Если у вас есть вопросы о наших услугах или вы хотите получить консультацию,
            свяжитесь с нами. Мы всегда рады помочь!
          </p>
          <Button className="bg-construction-blue hover:bg-blue-700 text-white">
            Связаться с нами
          </Button>
        </div>
      </section>
    </Layout>
  );
};

export default Blog;
